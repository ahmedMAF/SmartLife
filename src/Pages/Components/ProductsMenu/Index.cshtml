@using Microsoft.AspNetCore.Localization
@using Microsoft.Extensions.Localization
@using SmartLife.Models

@model SmartLife.Data.ProductsMenu

@{
    bool isAr = StringComparer.OrdinalIgnoreCase.Equals(System.Globalization.CultureInfo.CurrentUICulture.TwoLetterISOLanguageName, "ar");
}

@foreach (Product product in Model.Products["-"])
{
    <li><a asp-page="/Products/Details" asp-route-id="@product.Id">@if (isAr) { @product.NameAr } else { @product.Name }</a></li>
}

@foreach (string cat in Model.Categories)
{
    @if (cat == "")
    {
        continue;
    }
    
    <li class="dropdown">
        <a asp-page="/Products/Index" asp-route-id="@cat"><span>@cat</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
        <ul>
            @foreach (Product product in Model.Products[cat])
            {
                <li><a asp-page="/Products/Details" asp-route-id="@product.Id">@if (isAr) { @product.NameAr } else { @product.Name }</a></li>
            }
        </ul>
    </li>
}
